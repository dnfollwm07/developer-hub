## 高可靠性機票預訂平台

**角色：** 100+ 功能增強專案主導開發者  
**期間：** 2022年7月 – 2024年6月  
**公司：** 美團（北京三快線上科技有限公司）  
**技術棧：** React Native, Vue.js, JavaScript, TypeScript, Node.js, REST API

---

### 專案概述

主導關鍵任務機票預訂平台的前後端整合系統現代化，服務 **每日 100 萬+ 用戶**。平台處理機票搜尋、預訂和支付流程，橫跨美團 App 和微信小程序，需要高可靠性、正確性和低延遲。

---

### 主要成就

#### **效能優化**
- 使用 **延遲載入**、**預請求** 和 **請求合併** 優化 API 管道和請求策略
- 透過減少打包大小、tree-shaking 和資源預載入，將 **初始渲染速度提升 16.7%**
- 透過減少互動時間和改善使用者體驗，將 **預訂轉換率提升 3%**

#### **系統現代化**
- 將舊有模組現代化為採用模組化設計模式的 **可擴展架構**
- 透過程式碼重構和可重用元件開發，**長期維護成本降低 30%**
- 開發 **20+ 個可重用業務元件**（按鈕、標籤導航、顯示卡片）以減少團隊工作量

#### **跨平台一致性**
- 與平台部門協作，統一 **美團 App** 和 **微信小程序** 的使用者體驗
- 確保不同平台間的一致行為和資料流
- 在維持程式碼可重用性的同時，實作平台特定優化

---

### 技術挑戰與解決方案

#### **首次內容繪製（FCP）優化**

**挑戰：** 在高流量下持續減少預訂流程的互動時間。

**實作方案：**

1. **打包大小減少**
   - 實作 **tree-shaking** 以消除未使用的程式碼
   - 使用 Babel 插件將 `import _ from 'lodash'` 轉換為高效模組匯入，如 `import throttle from 'lodash/throttle'`
   - 替換較大的第三方函式庫（例如 **moment.js → day.js**）以最小化依賴大小
   - 使用圖片壓縮工具（TinyPNG）減少初始資源載入

2. **預載入策略**
   - 使用 **PN 檔案** 機制進行動態資源載入與監聽器
   - 提前發出請求並與主打包載入同步
   - 使用攔截器實作 **請求合併** 以避免冗餘請求

3. **渲染優化**
   - 配置 **FlatList** 和 **VirtualizedList** 屬性（`initialNumToRender`、`maxToRenderPerBatch`）以優化初始渲染
   - 預先計算單元格高度以改善列表渲染效率
   - 使用 **頁面預載入** 和 **RAM 打包機制** 預載入下一頁打包並重用短生命週期引擎實例

---

### 影響

- 兩年內開發並發布 **100+ 個功能**
- 頁面載入時間 **改善 16.7%**
- 預訂轉換率 **提升 3%**
- 未來維護時間 **減少 30%**
- **20+ 個可重用元件** 減少團隊開發工作量

